@model IEnumerable<LMS.Core.Models.Course>
@{
    ViewData["Title"] = "HomePage";
}

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 fade-in">
                <h1 class="hero-title">
                    اكتشف مستقبلك مع
                    <span class="text-warning">التعليم المتميز</span>
                </h1>
                <p class="hero-subtitle">
                    اكتشف آلاف الكورسات من خبراء متخصصين وطور مهاراتك في التكنولوجيا والأعمال والتصميم وأكثر.
                </p>
                <div class="d-flex flex-wrap gap-3">
                    <a href="@Url.Action("Index", "Courses")" class="btn btn-light btn-lg px-4 py-3">
                        <i class="fas fa-search me-2"></i>استكشف الكورسات
                    </a>
                    <a href="@Url.Action("Register", "Account")" class="btn btn-outline-light btn-lg px-4 py-3">
                        <i class="fas fa-play me-2"></i>ابدأ الآن
                    </a>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="position-relative">
                    <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400"
                         alt="Students Learning" class="img-fluid rounded-4 shadow-lg">

                    <!-- Floating Stats -->
                    <div class="position-absolute top-0 end-0 bg-white rounded-4 p-3 shadow-lg m-3" style="animation: float 6s ease-in-out infinite;">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-star text-warning fs-3 me-3"></i>
                            <div>
                                <h6 class="mb-0">4.8/5 تقييم</h6>
                                <small class="text-muted">من 10,000+ طالب</small>
                            </div>
                        </div>
                    </div>

                    <div class="position-absolute bottom-0 start-0 bg-white rounded-4 p-3 shadow-lg m-3" style="animation: float 6s ease-in-out infinite; animation-delay: 2s;">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-users text-primary fs-3 me-3"></i>
                            <div>
                                <h6 class="mb-0">50,000+ طالب</h6>
                                <small class="text-muted">يتعلمون الآن</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="py-5" style="background: var(--dark); color: white;">
    <div class="container">
        <div class="row text-center g-4">
            <div class="col-md-3">
                <div class="p-4">
                    <h3 class="display-4 fw-bold text-warning mb-2">500+</h3>
                    <p class="h5 opacity-75">كورس متاح</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="p-4">
                    <h3 class="display-4 fw-bold text-success mb-2">50K+</h3>
                    <p class="h5 opacity-75">طالب سعيد</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="p-4">
                    <h3 class="display-4 fw-bold text-info mb-2">150+</h3>
                    <p class="h5 opacity-75">مدرب خبير</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="p-4">
                    <h3 class="display-4 fw-bold text-danger mb-2">98%</h3>
                    <p class="h5 opacity-75">معدل النجاح</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-6 fw-bold mb-3">لماذا Learning Hub؟</h2>
            <p class="lead text-muted">كل ما تحتاجه لبدء رحلة التعلم اليوم</p>
        </div>

        <div class="row g-4">
            <div class="col-md-4">
                <div class="card-modern h-100 p-4 text-center">
                    <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-4"
                         style="width: 80px; height: 80px;">
                        <i class="fas fa-chalkboard-teacher text-white fs-2"></i>
                    </div>
                    <h4 class="fw-bold mb-3">مدربون خبراء</h4>
                    <p class="text-muted">تعلم من محترفين في المجال بخبرة سنوات في العالم الحقيقي</p>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card-modern h-100 p-4 text-center">
                    <div class="bg-success rounded-circle d-inline-flex align-items-center justify-content-center mb-4"
                         style="width: 80px; height: 80px;">
                        <i class="fas fa-clock text-white fs-2"></i>
                    </div>
                    <h4 class="fw-bold mb-3">تعلم مرن</h4>
                    <p class="text-muted">ادرس بوتيرتك الخاصة، في أي وقت وفي أي مكان يناسبك</p>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card-modern h-100 p-4 text-center">
                    <div class="bg-warning rounded-circle d-inline-flex align-items-center justify-content-center mb-4"
                         style="width: 80px; height: 80px;">
                        <i class="fas fa-certificate text-white fs-2"></i>
                    </div>
                    <h4 class="fw-bold mb-3">احصل على شهادة</h4>
                    <p class="text-muted">احصل على شهادات معتمدة في الصناعة عند إتمام الكورس</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Courses -->
<section class="py-5">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-5">
            <div>
                <h2 class="display-6 fw-bold mb-2">الكورسات المميزة</h2>
                <p class="text-muted">ابدأ التعلم مع أشهر كورساتنا</p>
            </div>
            <a href="@Url.Action("Index", "Courses")" class="btn-primary-custom">
                عرض جميع الكورسات <i class="fas fa-arrow-left ms-2"></i>
            </a>
        </div>

        <div class="row g-4">
            @if (Model != null && Model.Any())
            {
                @foreach (var course in Model.Take(6))
                {
                    <div class="col-lg-4 col-md-6">
                        <div class="course-card">
                            <div class="course-image">
                                @if (!string.IsNullOrEmpty(course.ImageUrl))
                                {
                                    <img src="@course.ImageUrl" alt="@course.Title">
                                }
                                else
                                {
                                    <i class="fas fa-book text-white fs-1"></i>
                                }
                                <div class="course-badge">
                                    @switch (course.Level)
                                    {
                                        case LMS.Core.Enums.CourseLevel.Beginner:
                                            <span>مبتدئ</span>
                                            break;
                                        case LMS.Core.Enums.CourseLevel.Intermediate:
                                            <span>متوسط</span>
                                            break;
                                        case LMS.Core.Enums.CourseLevel.Advanced:
                                            <span>متقدم</span>
                                            break;
                                        default:
                                            <span>مبتدئ</span>
                                            break;
                                    }
                                </div>
                            </div>
                            <div class="card-body p-4">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="text-warning me-2">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <small class="text-muted">(4.0)</small>
                                </div>
                                <h5 class="fw-bold mb-3">@course.Title</h5>
                                <p class="text-muted mb-3">@(course.Description ?? "تعلم مهارات جديدة مع هذا الكورس الشامل")</p>
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <span class="course-price @(course.Price.HasValue && course.Price > 0 ? "text-success" : "text-primary")">
                                        @if (course.Price.HasValue && course.Price > 0)
                                        {
                                            <span>@course.Price.Value.ToString("F0") جنيه</span>
                                        }
                                        else
                                        {
                                            <span>مجاني</span>
                                        }
                                    </span>
                                    <small class="text-muted">@course.Duration ساعة</small>
                                </div>
                                <a href="@Url.Action("Details", "Courses", new { id = course.Id })"
                                   class="btn btn-primary w-100">
                                    <i class="fas fa-eye me-2"></i>عرض التفاصيل
                                </a>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12 text-center py-5">
                    <i class="fas fa-graduation-cap display-1 text-muted mb-4"></i>
                    <h4 class="text-muted mb-3">لا توجد كورسات متاحة حتى الآن</h4>
                    <p class="text-muted">نحن نعمل بجد لنقدم لك كورسات رائعة. تابعنا قريباً!</p>
                </div>
            }
        </div>
    </div>
</section>

<!-- Newsletter Section -->
<section class="py-5" style="background: var(--gradient-primary);">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 text-white">
                <h3 class="fw-bold mb-3">ابق على اطلاع بأحدث الكورسات</h3>
                <p class="opacity-75 mb-0">اشترك في نشرتنا البريدية واحصل على إشعار بأحدث الكورسات والعروض الخاصة</p>
            </div>
            <div class="col-lg-6">
                <form class="d-flex gap-3">
                    <input type="email" class="form-control" placeholder="أدخل بريدك الإلكتروني" required>
                    <button type="submit" class="btn btn-light text-primary px-4">
                        <i class="fas fa-paper-plane me-2"></i>اشتراك
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-6 fw-bold mb-3">ماذا يقول طلابنا</h2>
            <p class="lead text-muted">تجارب حقيقية من طلاب نجحوا في تطوير مهاراتهم</p>
        </div>

        <div class="row g-4">
            <div class="col-md-4">
                <div class="card-modern h-100 p-4">
                    <div class="text-warning mb-3">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="text-muted mb-4">"منصة رائعة ساعدتني في تطوير مهاراتي في البرمجة. المحتوى ممتاز والمدربون محترفون."</p>
                    <div class="d-flex align-items-center">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=50&h=50&q=80"
                             alt="Student" class="rounded-circle me-3" style="width: 50px; height: 50px;">
                        <div>
                            <h6 class="mb-0 fw-bold">أحمد محمد</h6>
                            <small class="text-muted">مطور برمجيات</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card-modern h-100 p-4">
                    <div class="text-warning mb-3">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="text-muted mb-4">"تجربة تعليمية مميزة. استطعت الحصول على وظيفة أحلامي بفضل المهارات التي تعلمتها هنا."</p>
                    <div class="d-flex align-items-center">
                        <img src="https://images.unsplash.com/photo-1494790108755-2616b612b5bb?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=50&h=50&q=80"
                             alt="Student" class="rounded-circle me-3" style="width: 50px; height: 50px;">
                        <div>
                            <h6 class="mb-0 fw-bold">سارة أحمد</h6>
                            <small class="text-muted">مصممة جرافيك</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card-modern h-100 p-4">
                    <div class="text-warning mb-3">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="text-muted mb-4">"أسلوب التدريس ممتاز والمحتوى محدث. أنصح الجميع بهذه المنصة لتطوير المهارات."</p>
                    <div class="d-flex align-items-center">
                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=50&h=50&q=80"
                             alt="Student" class="rounded-circle me-3" style="width: 50px; height: 50px;">
                        <div>
                            <h6 class="mb-0 fw-bold">عمر حسن</h6>
                            <small class="text-muted">رائد أعمال</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <style>
        @@keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        @@media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }
        }
    </style>
}

    <script>
        // Course card click handlers
        document.querySelectorAll('.course-card').forEach(card => {
            card.addEventListener('click', function(e) {
                if (!e.target.closest('a')) {
                    const link = this.querySelector('a[href]');
                    if (link) {
                        window.location.href = link.href;
                    }
                }
            });
        });

        // Newsletter subscription
        document.querySelector('form').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = this.querySelector('input[type="email"]').value;

            Swal.fire({
                icon: 'success',
                title: 'شكراً لك!',
                text: 'تم الاشتراك بنجاح في النشرة البريدية',
                confirmButtonText: 'موافق',
                confirmButtonColor: '#10b981'
            });

            this.reset();
        });
    </script>
}