<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Hub - Transform Your Future</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --accent: #06b6d4;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #1e293b;
            --light: #f8fafc;
            --border: #e2e8f0;
            --text: #334155;
            --text-muted: #64748b;
            --success: #10b981;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 20px rgba(0,0,0,0.12);
            --shadow-lg: 0 10px 40px rgba(0,0,0,0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background-color: var(--light);
        }

        /* Navigation */
        .navbar-custom {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            padding: 1rem 0;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            transition: all 0.3s ease;
        }

            .navbar-custom.scrolled {
                box-shadow: var(--shadow-md);
            }

        .navbar-brand {
            font-weight: 800;
            font-size: 1.8rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .navbar-nav .nav-link {
            font-weight: 500;
            color: var(--text) !important;
            padding: 0.5rem 1rem !important;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
        }

            .navbar-nav .nav-link:hover {
                background-color: rgba(99, 102, 241, 0.1);
                color: var(--primary) !important;
            }

        .btn-primary-custom {
            background: var(--gradient-primary);
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            color: white;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

            .btn-primary-custom:hover {
                transform: translateY(-2px);
                box-shadow: var(--shadow-lg);
                color: white;
            }

        /* Hero Section */
        .hero-section {
            background: var(--gradient-primary);
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            padding-top: 80px;
        }

            .hero-section::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100%" height="100%" fill="url(%23grain)"/></svg>');
            }

        .hero-content {
            position: relative;
            z-index: 2;
            color: white;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 1.5rem;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            font-weight: 400;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .hero-image {
            position: relative;
        }

        .floating-card {
            position: absolute;
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: var(--shadow-lg);
            animation: float 6s ease-in-out infinite;
        }

        .floating-card-1 {
            top: 10%;
            right: 10%;
            animation-delay: 0s;
        }

        .floating-card-2 {
            bottom: 20%;
            left: 10%;
            animation-delay: 2s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        /* Course Cards */
        .course-card {
            background: white;
            border-radius: 20px;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
            border: 1px solid transparent;
            overflow: hidden;
            height: 100%;
        }

            .course-card:hover {
                transform: translateY(-8px);
                box-shadow: var(--shadow-lg);
                border-color: var(--primary);
            }

        .course-image {
            height: 200px;
            background: var(--gradient-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

            .course-image img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

        .course-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .course-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--success);
        }

        .course-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .stars {
            color: #fbbf24;
        }

        /* Stats Section */
        .stats-section {
            background: var(--dark);
            color: white;
            padding: 4rem 0;
            position: relative;
        }

        .stat-card {
            text-align: center;
            padding: 2rem;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            color: #fbbf24;
            margin-bottom: 0.5rem;
            display: block;
        }

        .stat-label {
            font-size: 1.1rem;
            opacity: 0.8;
        }

        /* Features Section */
        .feature-card {
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            text-align: center;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
            height: 100%;
            border: 1px solid transparent;
        }

            .feature-card:hover {
                transform: translateY(-5px);
                box-shadow: var(--shadow-md);
                border-color: var(--primary);
            }

        .feature-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2rem;
            color: white;
        }

            .feature-icon.primary {
                background: var(--gradient-primary);
            }

            .feature-icon.success {
                background: linear-gradient(135deg, var(--success), #059669);
            }

            .feature-icon.warning {
                background: linear-gradient(135deg, var(--warning), #d97706);
            }

        /* Authentication Forms */
        .auth-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            background: var(--light);
            padding-top: 80px;
        }

        .auth-card {
            background: white;
            border-radius: 24px;
            box-shadow: var(--shadow-lg);
            border: none;
            overflow: hidden;
        }

        .auth-header {
            background: var(--gradient-primary);
            color: white;
            padding: 3rem 2rem 2rem;
            text-align: center;
        }

        .auth-body {
            padding: 2rem;
        }

        .form-control {
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 1rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            background-color: var(--light);
        }

            .form-control:focus {
                border-color: var(--primary);
                box-shadow: 0 0 0 0.2rem rgba(99, 102, 241, 0.25);
                background-color: white;
            }

        .input-group-text {
            background-color: var(--light);
            border: 2px solid var(--border);
            border-right: none;
            color: var(--text-muted);
        }

        /* Dashboard */
        .dashboard-sidebar {
            background: white;
            min-height: calc(100vh - 80px);
            box-shadow: var(--shadow-sm);
            padding: 2rem 0;
            position: fixed;
            top: 80px;
            left: 0;
            width: 280px;
            z-index: 100;
        }

        .dashboard-content {
            margin-left: 280px;
            padding: 2rem;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0;
        }

            .sidebar-menu li {
                margin-bottom: 0.5rem;
            }

            .sidebar-menu a {
                display: flex;
                align-items: center;
                padding: 1rem 2rem;
                color: var(--text);
                text-decoration: none;
                transition: all 0.3s ease;
                border-right: 3px solid transparent;
            }

                .sidebar-menu a:hover,
                .sidebar-menu a.active {
                    background-color: rgba(99, 102, 241, 0.1);
                    color: var(--primary);
                    border-right-color: var(--primary);
                }

            .sidebar-menu i {
                margin-right: 1rem;
                width: 20px;
            }

        /* Progress Components */
        .progress-circle {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto;
        }

            .progress-circle svg {
                transform: rotate(-90deg);
            }

            .progress-circle .progress-text {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                font-weight: 700;
                font-size: 1.2rem;
                color: var(--primary);
            }

        /* Video Player */
        .video-container {
            background: #000;
            border-radius: 16px;
            overflow: hidden;
            position: relative;
            aspect-ratio: 16/9;
        }

        .video-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 4rem;
            width: 100%;
            height: 100%;
        }

        /* Lesson Sidebar */
        .lesson-sidebar {
            background: white;
            border-radius: 16px;
            box-shadow: var(--shadow-sm);
            padding: 1.5rem;
            max-height: 600px;
            overflow-y: auto;
        }

        .lesson-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid var(--border);
        }

            .lesson-item:hover {
                background-color: var(--light);
            }

            .lesson-item.completed {
                background-color: rgba(16, 185, 129, 0.1);
                border-color: var(--success);
            }

            .lesson-item.active {
                background-color: rgba(99, 102, 241, 0.1);
                border-color: var(--primary);
            }

        .lesson-checkbox {
            margin-right: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .dashboard-sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

                .dashboard-sidebar.show {
                    transform: translateX(0);
                }

            .dashboard-content {
                margin-left: 0;
            }

            .floating-card {
                display: none;
            }
        }

        /* Animations */
        .fade-in {
            animation: fadeIn 1s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-up {
            animation: slideUp 0.8s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Loading States */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 20px;
            z-index: 9999;
        }

        .toast-custom {
            background: white;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            border: none;
            min-width: 300px;
        }

        .toast-success {
            border-left: 4px solid var(--success);
        }

        .toast-error {
            border-left: 4px solid var(--danger);
        }

        .toast-warning {
            border-left: 4px solid var(--warning);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-custom" id="mainNavbar">
        <div class="container">
            <a class="navbar-brand" href="#home">
                <i class="fas fa-graduation-cap me-2"></i>Learning Hub
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">
                            <i class="fas fa-home me-1"></i>Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#courses">
                            <i class="fas fa-book me-1"></i>Courses
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#categories">
                            <i class="fas fa-tags me-1"></i>Categories
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">
                            <i class="fas fa-info-circle me-1"></i>About
                        </a>
                    </li>
                </ul>

                <ul class="navbar-nav">
                    <li class="nav-item" id="authButtons">
                        <a class="nav-link me-2" href="#login">
                            <i class="fas fa-sign-in-alt me-1"></i>Login
                        </a>
                        <a class="btn-primary-custom" href="#register">
                            <i class="fas fa-user-plus me-1"></i>Get Started
                        </a>
                    </li>
                    <li class="nav-item dropdown d-none" id="userDropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=40&h=40&q=80"
                                 alt="User" class="rounded-circle me-2" style="width: 32px; height: 32px;">
                            <span id="userName">John Doe</span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item" href="#dashboard">
                                    <i class="fas fa-tachometer-alt me-2"></i>Dashboard
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#my-courses">
                                    <i class="fas fa-book-open me-2"></i>My Courses
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#profile">
                                    <i class="fas fa-user me-2"></i>Profile
                                </a>
                            </li>
                            <li><hr class="dropdown-divider"></li>
                            <li>
                                <a class="dropdown-item" href="#logout" onclick="logout()">
                                    <i class="fas fa-sign-out-alt me-2"></i>Logout
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div id="app">
        <!-- Home Page -->
        <div id="home" class="page active">
            <!-- Hero Section -->
            <section class="hero-section">
                <div class="container">
                    <div class="row align-items-center min-vh-100">
                        <div class="col-lg-6 hero-content fade-in">
                            <h1 class="hero-title">
                                Transform Your Future with
                                <span class="text-warning">Quality Education</span>
                            </h1>
                            <p class="hero-subtitle">
                                Discover thousands of courses from expert instructors and advance your skills in technology, business, design, and more.
                            </p>
                            <div class="d-flex flex-wrap gap-3">
                                <a href="#courses" class="btn btn-light btn-lg px-4 py-3">
                                    <i class="fas fa-search me-2"></i>Explore Courses
                                </a>
                                <a href="#register" class="btn btn-outline-light btn-lg px-4 py-3">
                                    <i class="fas fa-play me-2"></i>Get Started
                                </a>
                            </div>
                        </div>
                        <div class="col-lg-6 hero-image">
                            <div class="position-relative">
                                <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400"
                                     alt="Students Learning" class="img-fluid rounded-4 shadow-lg">

                                <!-- Floating Cards -->
                                <div class="floating-card floating-card-1">
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-star text-warning fs-3 me-3"></i>
                                        <div>
                                            <h6 class="mb-0">4.8/5 Rating</h6>
                                            <small class="text-muted">From 10k+ students</small>
                                        </div>
                                    </div>
                                </div>

                                <div class="floating-card floating-card-2">
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-users text-primary fs-3 me-3"></i>
                                        <div>
                                            <h6 class="mb-0">50k+ Students</h6>
                                            <small class="text-muted">Learning online</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Stats Section -->
            <section class="stats-section">
                <div class="container">
                    <div class="row">
                        <div class="col-md-3 col-sm-6">
                            <div class="stat-card">
                                <span class="stat-number" data-count="500">0</span>
                                <div class="stat-label">Active Courses</div>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <div class="stat-card">
                                <span class="stat-number" data-count="50000">0</span>
                                <div class="stat-label">Students</div>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <div class="stat-card">
                                <span class="stat-number" data-count="150">0</span>
                                <div class="stat-label">Expert Instructors</div>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <div class="stat-card">
                                <span class="stat-number" data-count="98">0</span>
                                <div class="stat-label">Success Rate</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Features Section -->
            <section class="py-5 bg-light">
                <div class="container">
                    <div class="text-center mb-5">
                        <h2 class="display-6 fw-bold mb-3">Why Choose Learning Hub?</h2>
                        <p class="lead text-muted">Everything you need to start learning today</p>
                    </div>

                    <div class="row g-4">
                        <div class="col-md-4">
                            <div class="feature-card slide-up">
                                <div class="feature-icon primary">
                                    <i class="fas fa-chalkboard-teacher"></i>
                                </div>
                                <h4 class="fw-bold mb-3">Expert Instructors</h4>
                                <p class="text-muted">Learn from industry professionals with years of real-world experience</p>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="feature-card slide-up" style="animation-delay: 0.2s;">
                                <div class="feature-icon success">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <h4 class="fw-bold mb-3">Flexible Learning</h4>
                                <p class="text-muted">Study at your own pace, anytime and anywhere that suits you</p>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="feature-card slide-up" style="animation-delay: 0.4s;">
                                <div class="feature-icon warning">
                                    <i class="fas fa-certificate"></i>
                                </div>
                                <h4 class="fw-bold mb-3">Get Certified</h4>
                                <p class="text-muted">Earn industry-recognized certificates upon course completion</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Featured Courses -->
            <section class="py-5">
                <div class="container">
                    <div class="d-flex justify-content-between align-items-center mb-5">
                        <div>
                            <h2 class="display-6 fw-bold mb-2">Featured Courses</h2>
                            <p class="text-muted">Start learning with our most popular courses</p>
                        </div>
                        <a href="#courses" class="btn-primary-custom">
                            View All Courses <i class="fas fa-arrow-right ms-2"></i>
                        </a>
                    </div>

                    <div class="row g-4" id="featuredCourses">
                        <!-- Courses will be loaded here -->
                        <div class="col-12 text-center">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading courses...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Courses Page -->
        <div id="courses" class="page" style="display: none;">
            <div class="container mt-5 pt-5">
                <!-- Page Header -->
                <div class="bg-primary text-white rounded-4 p-5 mb-5">
                    <div class="row align-items-center">
                        <div class="col-lg-8">
                            <h1 class="display-5 fw-bold mb-3">
                                <i class="fas fa-book-open me-3"></i>Discover Amazing Courses
                            </h1>
                            <p class="lead mb-0">Transform your career with our expertly crafted courses</p>
                        </div>
                        <div class="col-lg-4 text-end">
                            <div class="d-flex align-items-center justify-content-end">
                                <i class="fas fa-graduation-cap fs-1 text-warning me-3"></i>
                                <div>
                                    <h3 class="mb-0" id="coursesCount">Loading...</h3>
                                    <small>Courses Available</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Search & Filter -->
                <div class="bg-white rounded-4 p-4 mb-4 shadow-sm">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <div class="input-group input-group-lg">
                                <span class="input-group-text">
                                    <i class="fas fa-search"></i>
                                </span>
                                <input type="text" class="form-control" placeholder="Search courses..." id="searchInput">
                                <button class="btn btn-primary" type="button" onclick="searchCourses()">
                                    Search
                                </button>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="d-flex justify-content-end gap-2">
                                <select class="form-select" id="categoryFilter">
                                    <option value="">All Categories</option>
                                </select>
                                <select class="form-select" id="levelFilter">
                                    <option value="">All Levels</option>
                                    <option value="1">Beginner</option>
                                    <option value="2">Intermediate</option>
                                    <option value="3">Advanced</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Courses Grid -->
                <div class="row g-4" id="coursesGrid">
                    <!-- Courses will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Course Details Page -->
        <div id="course-details" class="page" style="display: none;">
            <div class="container mt-5 pt-5">
                <div id="courseDetailsContent">
                    <!-- Course details will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Authentication Pages -->
        <div id="login" class="page" style="display: none;">
            <div class="auth-container">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-md-6 col-lg-5">
                            <div class="auth-card">
                                <div class="auth-header">
                                    <i class="fas fa-user fa-3x mb-3"></i>
                                    <h2 class="fw-bold mb-2">Welcome Back!</h2>
                                    <p class="mb-0 opacity-75">Sign in to continue your learning journey</p>
                                </div>
                                <div class="auth-body">
                                    <form id="loginForm" onsubmit="handleLogin(event)">
                                        <div class="mb-4">
                                            <label class="form-label fw-semibold">
                                                <i class="fas fa-envelope text-primary me-2"></i>Email Address
                                            </label>
                                            <div class="input-group">
                                                <span class="input-group-text">
                                                    <i class="fas fa-envelope"></i>
                                                </span>
                                                <input type="email" class="form-control" name="email" placeholder="Enter your email" required>
                                            </div>
                                        </div>

                                        <div class="mb-4">
                                            <label class="form-label fw-semibold">
                                                <i class="fas fa-lock text-primary me-2"></i>Password
                                            </label>
                                            <div class="input-group">
                                                <span class="input-group-text">
                                                    <i class="fas fa-lock"></i>
                                                </span>
                                                <input type="password" class="form-control" name="password" placeholder="Enter your password" required>
                                                <button class="btn btn-outline-secondary" type="button" onclick="togglePassword(this)">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                            </div>
                                        </div>

                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="rememberMe">
                                                <label class="form-check-label" for="rememberMe">Remember me</label>
                                            </div>
                                            <a href="#forgot-password" class="text-primary text-decoration-none">Forgot Password?</a>
                                        </div>

                                        <button type="submit" class="btn-primary-custom w-100 mb-4">
                                            <i class="fas fa-sign-in-alt me-2"></i>Sign In
                                        </button>

                                        <div class="text-center">
                                            <p class="mb-0">
                                                Don't have an account?
                                                <a href="#register" class="text-primary fw-semibold text-decoration-none">Create Account</a>
                                            </p>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="register" class="page" style="display: none;">
            <div class="auth-container">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-md-8 col-lg-6">
                            <div class="auth-card">
                                <div class="auth-header">
                                    <i class="fas fa-user-plus fa-3x mb-3"></i>
                                    <h2 class="fw-bold mb-2">Join Learning Hub</h2>
                                    <p class="mb-0 opacity-75">Create your account and start learning today</p>
                                </div>
                                <div class="auth-body">
                                    <form id="registerForm" onsubmit="handleRegister(event)">
                                        <div class="row mb-4">
                                            <div class="col-md-6">
                                                <label class="form-label fw-semibold">First Name</label>
                                                <input type="text" class="form-control" name="firstName" placeholder="John" required>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label fw-semibold">Last Name</label>
                                                <input type="text" class="form-control" name="lastName" placeholder="Doe" required>
                                            </div>
                                        </div>

                                        <div class="mb-4">
                                            <label class="form-label fw-semibold">Email Address</label>
                                            <div class="input-group">
                                                <span class="input-group-text">
                                                    <i class="fas fa-envelope"></i>
                                                </span>
                                                <input type="email" class="form-control" name="email" placeholder="john.doe@example.com" required>
                                            </div>
                                        </div>

                                        <div class="mb-4">
                                            <label class="form-label fw-semibold">Phone Number <small class="text-muted">(Optional)</small></label>
                                            <div class="input-group">
                                                <span class="input-group-text">
                                                    <i class="fas fa-phone"></i>
                                                </span>
                                                <input type="tel" class="form-control" name="phone" placeholder="+20 123 456 7890">
                                            </div>
                                        </div>

                                        <div class="mb-4">
                                            <label class="form-label fw-semibold">Password</label>
                                            <div class="input-group">
                                                <span class="input-group-text">
                                                    <i class="fas fa-lock"></i>
                                                </span>
                                                <input type="password" class="form-control" name="password" placeholder="Choose a strong password" required>
                                                <button class="btn btn-outline-secondary" type="button" onclick="togglePassword(this)">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                            </div>
                                            <div class="form-text">Password must be at least 6 characters long</div>
                                        </div>

                                        <div class="mb-4">
                                            <label class="form-label fw-semibold">I want to:</label>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="role" value="1" id="roleStudent" checked>
                                                        <label class="form-check-label" for="roleStudent">
                                                            <i class="fas fa-graduation-cap text-primary me-2"></i>Learn (Student)
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="role" value="2" id="roleInstructor">
                                                        <label class="form-check-label" for="roleInstructor">
                                                            <i class="fas fa-chalkboard-teacher text-success me-2"></i>Teach (Instructor)
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <button type="submit" class="btn-primary-custom w-100 mb-4">
                                            <i class="fas fa-user-plus me-2"></i>Create Account
                                        </button>

                                        <div class="text-center">
                                            <p class="mb-0">
                                                Already have an account?
                                                <a href="#login" class="text-primary fw-semibold text-decoration-none">Sign In</a>
                                            </p>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="page" style="display: none;">
            <div class="dashboard-sidebar" id="sidebar">
                <div class="px-3 mb-4">
                    <h5 class="fw-bold text-primary">Dashboard</h5>
                </div>
                <ul class="sidebar-menu">
                    <li><a href="#dashboard" class="active"><i class="fas fa-tachometer-alt"></i>Overview</a></li>
                    <li><a href="#my-courses"><i class="fas fa-book-open"></i>My Courses</a></li>
                    <li><a href="#progress"><i class="fas fa-chart-line"></i>Progress</a></li>
                    <li><a href="#certificates"><i class="fas fa-certificate"></i>Certificates</a></li>
                    <li><a href="#profile"><i class="fas fa-user"></i>Profile</a></li>
                    <li><a href="#settings"><i class="fas fa-cog"></i>Settings</a></li>
                </ul>
            </div>

            <div class="dashboard-content">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h1 class="h3 fw-bold">Welcome back, <span id="dashboardUserName">Student</span>!</h1>
                        <p class="text-muted">Continue your learning journey</p>
                    </div>
                    <button class="btn btn-outline-primary d-md-none" onclick="toggleSidebar()">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>

                <!-- Stats Cards -->
                <div class="row g-4 mb-5">
                    <div class="col-md-3">
                        <div class="bg-white rounded-4 p-4 shadow-sm">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h3 class="fw-bold mb-1" id="enrolledCoursesCount">0</h3>
                                    <p class="text-muted mb-0">Enrolled Courses</p>
                                </div>
                                <i class="fas fa-book text-primary fs-2"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="bg-white rounded-4 p-4 shadow-sm">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h3 class="fw-bold mb-1" id="completedCoursesCount">0</h3>
                                    <p class="text-muted mb-0">Completed</p>
                                </div>
                                <i class="fas fa-check-circle text-success fs-2"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="bg-white rounded-4 p-4 shadow-sm">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h3 class="fw-bold mb-1" id="certificatesCount">0</h3>
                                    <p class="text-muted mb-0">Certificates</p>
                                </div>
                                <i class="fas fa-award text-warning fs-2"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="bg-white rounded-4 p-4 shadow-sm">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h3 class="fw-bold mb-1" id="learningStreak">0</h3>
                                    <p class="text-muted mb-0">Day Streak</p>
                                </div>
                                <i class="fas fa-fire text-danger fs-2"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- My Courses -->
                <div class="bg-white rounded-4 p-4 shadow-sm mb-4">
                    <h4 class="fw-bold mb-4">Continue Learning</h4>
                    <div class="row g-4" id="myCoursesList">
                        <!-- My courses will be loaded here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Learning Interface -->
        <div id="learning" class="page" style="display: none;">
            <div class="container-fluid">
                <div class="row">
                    <!-- Video Content -->
                    <div class="col-lg-8">
                        <div class="p-4">
                            <!-- Video Player -->
                            <div class="video-container mb-4">
                                <div class="video-placeholder">
                                    <i class="fas fa-play-circle"></i>
                                </div>
                            </div>

                            <!-- Lesson Info -->
                            <div class="mb-4">
                                <h2 class="fw-bold mb-2" id="currentLessonTitle">Lesson Title</h2>
                                <p class="text-muted" id="currentLessonDescription">Lesson description will appear here</p>
                            </div>

                            <!-- Navigation -->
                            <div class="d-flex justify-content-between mb-4">
                                <button class="btn btn-outline-primary" id="prevLessonBtn">
                                    <i class="fas fa-chevron-left me-2"></i>Previous Lesson
                                </button>
                                <button class="btn btn-primary" id="nextLessonBtn">
                                    Next Lesson<i class="fas fa-chevron-right ms-2"></i>
                                </button>
                            </div>

                            <!-- Notes Section -->
                            <div class="bg-light rounded-4 p-4">
                                <h5 class="fw-bold mb-3">Notes</h5>
                                <textarea class="form-control" rows="4" placeholder="Take notes while learning..."></textarea>
                                <button class="btn btn-primary mt-3">Save Notes</button>
                            </div>
                        </div>
                    </div>

                    <!-- Lesson Sidebar -->
                    <div class="col-lg-4">
                        <div class="lesson-sidebar p-4">
                            <h5 class="fw-bold mb-4">Course Content</h5>
                            <div id="lessonsList">
                                <!-- Lessons will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Categories Page -->
    <div id="categories" class="page" style="display: none;">
        <div class="container mt-5 pt-5">
            <!-- Page Header -->
            <div class="bg-primary text-white rounded-4 p-5 mb-5">
                <div class="row align-items-center">
                    <div class="col-lg-8">
                        <h1 class="display-5 fw-bold mb-3">
                            <i class="fas fa-tags me-3"></i>Course Categories
                        </h1>
                        <p class="lead mb-0">Explore courses by different categories and find what interests you</p>
                    </div>
                    <div class="col-lg-4 text-end">
                        <i class="fas fa-folder-open fs-1 text-warning"></i>
                    </div>
                </div>
            </div>

            <!-- Categories Grid -->
            <div class="row g-4" id="categoriesGrid">
                <div class="col-12 text-center">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading categories...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Page -->
    <div id="about" class="page" style="display: none;">
        <div class="container mt-5 pt-5">
            <!-- Hero Section -->
            <div class="bg-gradient-primary text-white rounded-4 p-5 mb-5">
                <div class="text-center">
                    <h1 class="display-4 fw-bold mb-4">About Learning Hub</h1>
                    <p class="lead">Empowering minds through quality education and innovative learning experiences</p>
                </div>
            </div>

            <!-- About Content -->
            <div class="row g-5">
                <div class="col-lg-6">
                    <h2 class="fw-bold mb-4">Our Mission</h2>
                    <p class="text-muted mb-4">
                        At Learning Hub, we believe that education is the key to unlocking human potential.
                        Our platform connects learners with expert instructors from around the world,
                        offering courses that span technology, business, design, and more.
                    </p>

                    <h3 class="fw-bold mb-3">What Makes Us Different</h3>
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Expert instructors with real-world experience
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Hands-on projects and practical learning
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Flexible learning at your own pace
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Industry-recognized certificates
                        </li>
                    </ul>
                </div>

                <div class="col-lg-6">
                    <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400"
                         alt="About Us" class="img-fluid rounded-4 shadow-lg">
                </div>
            </div>

            <!-- Stats Section -->
            <div class="bg-light rounded-4 p-5 mt-5">
                <div class="row text-center g-4">
                    <div class="col-md-3">
                        <h3 class="display-6 fw-bold text-primary">500+</h3>
                        <p class="text-muted">Courses Available</p>
                    </div>
                    <div class="col-md-3">
                        <h3 class="display-6 fw-bold text-success">50K+</h3>
                        <p class="text-muted">Happy Students</p>
                    </div>
                    <div class="col-md-3">
                        <h3 class="display-6 fw-bold text-warning">150+</h3>
                        <p class="text-muted">Expert Instructors</p>
                    </div>
                    <div class="col-md-3">
                        <h3 class="display-6 fw-bold text-info">98%</h3>
                        <p class="text-muted">Success Rate</p>
                    </div>
                </div>
            </div>

            <!-- Team Section -->
            <div class="mt-5">
                <h2 class="fw-bold text-center mb-5">Meet Our Team</h2>
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="text-center">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=200&h=200&q=80"
                                 alt="CEO" class="rounded-circle mb-3" style="width: 150px; height: 150px;">
                            <h5 class="fw-bold">Ahmed Mohamed</h5>
                            <p class="text-muted">CEO & Founder</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <img src="https://images.unsplash.com/photo-1494790108755-2616b612b5bb?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=200&h=200&q=80"
                                 alt="CTO" class="rounded-circle mb-3" style="width: 150px; height: 150px;">
                            <h5 class="fw-bold">Sara Ahmed</h5>
                            <p class="text-muted">CTO</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=200&h=200&q=80"
                                 alt="Lead Developer" class="rounded-circle mb-3" style="width: 150px; height: 150px;">
                            <h5 class="fw-bold">Omar Hassan</h5>
                            <p class="text-muted">Lead Developer</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // API Configuration
        const API_BASE = 'https://localhost:7278/api';
        let currentUser = null;
        let allCourses = [];
        let allCategories = [];

        // Initialize App
        document.addEventListener('DOMContentLoaded', function () {
            initializeApp();
            setupNavigation();
            loadInitialData();
            checkAuthStatus();
        });

        // App Initialization
        function initializeApp() {
            // Setup navbar scroll effect
            window.addEventListener('scroll', function () {
                const navbar = document.getElementById('mainNavbar');
                if (window.scrollY > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });

            // Animate stats counters
            animateCounters();
        }

        // Navigation Setup
        function setupNavigation() {
            const navLinks = document.querySelectorAll('a[href^="#"]');
            navLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    showPage(targetId);
                });
            });
        }

        // Show Page
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.style.display = 'none';
            });

            // Show target page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.style.display = 'block';
                targetPage.classList.add('fade-in');

                // Load page-specific data
                loadPageData(pageId);
            }
        }

        // Load Page Data
        function loadPageData(pageId) {
            switch (pageId) {
                case 'courses':
                    loadCourses();
                    break;
                case 'categories':
                    loadCategoriesPage();
                    break;
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'my-courses':
                    loadMyCourses();
                    break;
            }
        }

        // إضافة function للـ Categories
        async function loadCategoriesPage() {
            const container = document.getElementById('categoriesGrid');

            try {
                const categories = await apiCall('/categories');

                if (!categories || categories.length === 0) {
                    container.innerHTML = `
                <div class="col-12 text-center py-5">
                    <i class="fas fa-folder-open display-1 text-muted mb-4"></i>
                    <h4 class="text-muted mb-3">No categories available yet</h4>
                    <p class="text-muted">Categories will appear here once they are added.</p>
                </div>
            `;
                    return;
                }

                container.innerHTML = categories.map(category => `
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3" 
                             style="width: 80px; height: 80px;">
                            <i class="fas fa-folder text-white fs-2"></i>
                        </div>
                        <h5 class="fw-bold mb-3">${category.name}</h5>
                        <p class="text-muted mb-4">${category.description || 'Explore courses in this category'}</p>
                        <button class="btn btn-primary" onclick="filterCoursesByCategory(${category.id})">
                            <i class="fas fa-eye me-2"></i>View Courses
                        </button>
                    </div>
                </div>
            </div>
        `).join('');

            } catch (error) {
                console.error('Error loading categories:', error);
                container.innerHTML = `
            <div class="col-12 text-center py-5">
                <i class="fas fa-exclamation-triangle display-1 text-danger mb-4"></i>
                <h4 class="text-danger mb-3">Error Loading Categories</h4>
                <p class="text-muted">Please check your connection and try again.</p>
            </div>
        `;
            }
        }

        function filterCoursesByCategory(categoryId) {
            showPage('courses');
            setTimeout(() => {
                const categoryFilter = document.getElementById('categoryFilter');
                if (categoryFilter) {
                    categoryFilter.value = categoryId;
                    searchCourses();
                }
            }, 100);
        }

        // API Functions
        async function apiCall(endpoint, method = 'GET', data = null) {
            const token = localStorage.getItem('authToken');
            const headers = {
                'Content-Type': 'application/json',
            };

            if (token) {
                headers['Authorization'] = `Bearer ${token}`;
            }

            const config = {
                method,
                headers,
            };

            if (data) {
                config.body = JSON.stringify(data);
            }

            try {
                const response = await fetch(`${API_BASE}${endpoint}`, config);

                if (!response.ok) {
                    if (response.status === 401) {
                        logout();
                        showToast('Session expired. Please login again.', 'error');
                        return null;
                    }
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                return await response.json();
            } catch (error) {
                console.error('API call failed:', error);
                showToast('Network error. Please try again.', 'error');
                return null;
            }
        }

        // Authentication
        async function handleLogin(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const loginData = {
                email: formData.get('email'),
                password: formData.get('password')
            };

            showLoading(event.target.querySelector('button[type="submit"]'));

            const result = await apiCall('/auth/login', 'POST', loginData);

            hideLoading(event.target.querySelector('button[type="submit"]'));

            if (result && result.token) {
                localStorage.setItem('authToken', result.token);
                currentUser = result.user;
                updateAuthUI();
                showToast('Login successful!', 'success');
                showPage('dashboard');
            } else {
                showToast('Invalid credentials. Please try again.', 'error');
            }
        }

        async function handleRegister(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const registerData = {
                firstName: formData.get('firstName'),
                lastName: formData.get('lastName'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                password: formData.get('password'),
                role: parseInt(formData.get('role'))
            };

            showLoading(event.target.querySelector('button[type="submit"]'));

            const result = await apiCall('/auth/register', 'POST', registerData);

            hideLoading(event.target.querySelector('button[type="submit"]'));

            if (result && result.token) {
                localStorage.setItem('authToken', result.token);
                currentUser = result.user;
                updateAuthUI();
                showToast('Registration successful! Welcome aboard!', 'success');
                showPage('dashboard');
            } else {
                showToast('Registration failed. Please try again.', 'error');
            }
        }

        function logout() {
            localStorage.removeItem('authToken');
            currentUser = null;
            updateAuthUI();
            showPage('home');
            showToast('Logged out successfully', 'success');
        }

        function checkAuthStatus() {
            const token = localStorage.getItem('authToken');
            if (token) {
                // Verify token validity here if needed
                updateAuthUI();
            }
        }

        function updateAuthUI() {
            const authButtons = document.getElementById('authButtons');
            const userDropdown = document.getElementById('userDropdown');
            const userName = document.getElementById('userName');
            const dashboardUserName = document.getElementById('dashboardUserName');

            if (currentUser) {
                authButtons.classList.add('d-none');
                userDropdown.classList.remove('d-none');
                userName.textContent = `${currentUser.firstName} ${currentUser.lastName}`;
                if (dashboardUserName) {
                    dashboardUserName.textContent = currentUser.firstName;
                }
            } else {
                authButtons.classList.remove('d-none');
                userDropdown.classList.add('d-none');
            }
        }

        // Data Loading Functions
        async function loadInitialData() {
            await loadCategories();
            await loadFeaturedCourses();
        }

        async function loadCategories() {
            const categories = await apiCall('/categories');
            if (categories) {
                allCategories = categories;
                populateCategoryFilter();
                console.log('Categories loaded:', categories);
            }
        }

        async function loadCourses() {
            const courses = await apiCall('/courses');
            if (courses) {
                allCourses = courses;
                displayCourses(courses);
                document.getElementById('coursesCount').textContent = courses.length;
            }
        }

        async function loadFeaturedCourses() {
            const courses = await apiCall('/courses');
            if (courses) {
                displayFeaturedCourses(courses.slice(0, 6));
            }
        }

        async function loadMyCourses() {
            if (!currentUser) {
                showPage('login');
                return;
            }

            const myCourses = await apiCall('/courses/my-courses');
            if (myCourses) {
                displayMyCourses(myCourses);
            }
        }

        async function loadDashboard() {
            if (!currentUser) {
                showPage('login');
                return;
            }

            const myCourses = await apiCall('/courses/my-courses');
            if (myCourses) {
                updateDashboardStats(myCourses);
                displayMyCourses(myCourses);
            }
        }

        // Display Functions
        function displayFeaturedCourses(courses) {
            const container = document.getElementById('featuredCourses');
            if (courses.length === 0) {
                container.innerHTML = `
                        <div class="col-12 text-center py-5">
                            <i class="fas fa-graduation-cap display-1 text-muted mb-4"></i>
                            <h4 class="text-muted mb-3">No Courses Available Yet</h4>
                            <p class="text-muted">We're working hard to bring you amazing courses. Check back soon!</p>
                        </div>
                    `;
                return;
            }

            container.innerHTML = courses.map(course => createCourseCard(course)).join('');
        }

        function displayCourses(courses) {
            const container = document.getElementById('coursesGrid');
            if (courses.length === 0) {
                container.innerHTML = `
                        <div class="col-12 text-center py-5">
                            <i class="fas fa-search display-1 text-muted mb-4"></i>
                            <h4 class="text-muted mb-3">No courses found</h4>
                            <p class="text-muted">Try adjusting your search criteria</p>
                        </div>
                    `;
                return;
            }

            container.innerHTML = courses.map(course => createCourseCard(course)).join('');
        }

        function createCourseCard(course) {
            const levelNames = { 1: 'Beginner', 2: 'Intermediate', 3: 'Advanced' };
            const price = course.price ? `${course.price}` : 'Free';
            const priceClass = course.price ? 'text-success' : 'text-primary';

            return `
                    <div class="col-lg-4 col-md-6">
                        <div class="course-card" onclick="showCourseDetails(${course.id})">
                            <div class="course-image">
                                ${course.imageUrl ?
                    `<img src="${course.imageUrl}" alt="${course.title}">` :
                    `<i class="fas fa-book text-white fs-1"></i>`
                }
                                <div class="course-badge">${levelNames[course.level] || 'Beginner'}</div>
                            </div>
                            <div class="card-body p-4">
                                <div class="course-rating">
                                    <div class="stars">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <small class="text-muted">(4.0)</small>
                                </div>
                                <h5 class="fw-bold mb-3">${course.title}</h5>
                                <p class="text-muted mb-3">${course.description || 'Learn new skills with this comprehensive course'}</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <span class="course-price ${priceClass}">${price}</span>
                                    <small class="text-muted">${course.duration} hours</small>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
        }

        function displayMyCourses(enrollments) {
            const container = document.getElementById('myCoursesList');
            if (enrollments.length === 0) {
                container.innerHTML = `
                        <div class="col-12 text-center py-5">
                            <i class="fas fa-book-open display-1 text-muted mb-4"></i>
                            <h4 class="text-muted mb-3">No enrolled courses yet</h4>
                            <p class="text-muted">Start learning by enrolling in a course!</p>
                            <a href="#courses" class="btn-primary-custom">Browse Courses</a>
                        </div>
                    `;
                return;
            }

            container.innerHTML = enrollments.map(enrollment => createMyCourseCard(enrollment)).join('');
        }

        function createMyCourseCard(enrollment) {
            const statusColors = {
                1: 'bg-warning', // Active
                2: 'bg-success', // Completed
                3: 'bg-secondary' // Dropped
            };

            const statusNames = {
                1: 'In Progress',
                2: 'Completed',
                3: 'Dropped'
            };

            return `
                    <div class="col-md-6">
                        <div class="course-card">
                            <div class="card-body p-4">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <span class="badge ${statusColors[enrollment.status]}">${statusNames[enrollment.status]}</span>
                                    <small class="text-muted">Progress: ${enrollment.progress}%</small>
                                </div>
                                <h5 class="fw-bold mb-3">${enrollment.course?.title || 'Course Title'}</h5>
                                <div class="progress mb-3" style="height: 8px;">
                                    <div class="progress-bar" style="width: ${enrollment.progress}%"></div>
                                </div>
                                <button class="btn btn-primary w-100" onclick="continueLearning(${enrollment.courseId})">
                                    <i class="fas fa-play me-2"></i>Continue Learning
                                </button>
                            </div>
                        </div>
                    </div>
                `;
        }

        // Utility Functions
        function populateCategoryFilter() {
            const categoryFilter = document.getElementById('categoryFilter');
            if (categoryFilter && allCategories) {
                allCategories.forEach(category => {
                    const option = document.createElement('option');
                    option.value = category.id;
                    option.textContent = category.name;
                    categoryFilter.appendChild(option);
                });
            }
        }

        function searchCourses() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const categoryFilter = document.getElementById('categoryFilter').value;
            const levelFilter = document.getElementById('levelFilter').value;

            let filteredCourses = allCourses.filter(course => {
                const matchesSearch = !searchTerm ||
                    course.title.toLowerCase().includes(searchTerm) ||
                    course.description?.toLowerCase().includes(searchTerm);

                const matchesCategory = !categoryFilter || course.categoryId == categoryFilter;
                const matchesLevel = !levelFilter || course.level == levelFilter;

                return matchesSearch && matchesCategory && matchesLevel;
            });

            displayCourses(filteredCourses);
        }

        function showCourseDetails(courseId) {
            // Load and display course details
            loadCourseDetails(courseId);
            showPage('course-details');
        }

        async function loadCourseDetails(courseId) {
            const course = await apiCall(`/courses/${courseId}`);
            if (course) {
                displayCourseDetails(course);
            }
        }

        function displayCourseDetails(course) {
            const container = document.getElementById('courseDetailsContent');
            const levelNames = { 1: 'Beginner', 2: 'Intermediate', 3: 'Advanced' };
            const price = course.price ? `${course.price}` : 'Free';

            container.innerHTML = `
                    <div class="row">
                        <div class="col-lg-8">
                            <!-- Course Header -->
                            <div class="bg-dark text-white rounded-4 p-5 mb-4">
                                <nav aria-label="breadcrumb" class="mb-4">
                                    <ol class="breadcrumb">
                                        <li class="breadcrumb-item"><a href="#home" class="text-light">Home</a></li>
                                        <li class="breadcrumb-item"><a href="#courses" class="text-light">Courses</a></li>
                                        <li class="breadcrumb-item active text-warning">${course.title}</li>
                                    </ol>
                                </nav>

                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="badge bg-primary fs-6">${levelNames[course.level]}</span>
                                    <span class="badge bg-info fs-6">${course.duration} hours</span>
                                    <span class="badge bg-warning fs-6">⭐ 4.0</span>
                                </div>

                                <h1 class="display-6 fw-bold mb-3">${course.title}</h1>
                                <p class="lead mb-4">${course.description || 'Comprehensive course content designed to help you master new skills'}</p>

                                <div class="d-flex align-items-center">
                                    <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=50&h=50&q=80"
                                         alt="Instructor" class="rounded-circle me-3" style="width: 50px; height: 50px;">
                                    <div>
                                        <h6 class="mb-0">${course.instructor?.firstName || 'Expert'} ${course.instructor?.lastName || 'Instructor'}</h6>
                                        <small class="text-light opacity-75">Course Instructor</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Course Content -->
                            <div class="bg-white rounded-4 p-4 mb-4 shadow-sm">
                                <h3 class="fw-bold mb-4">What You'll Learn</h3>
                                <div class="row">
                                    <div class="col-md-6">
                                        <ul class="list-unstyled">
                                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Master the fundamentals</li>
                                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Build real-world projects</li>
                                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Best practices and techniques</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <ul class="list-unstyled">
                                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Industry-relevant skills</li>
                                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Hands-on experience</li>
                                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Career advancement</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Course Curriculum -->
                            <div class="bg-white rounded-4 p-4 shadow-sm">
                                <h3 class="fw-bold mb-4">Course Curriculum</h3>
                                <div id="courseLessons">
                                    <div class="text-center py-4">
                                        <div class="spinner-border text-primary" role="status">
                                            <span class="visually-hidden">Loading curriculum...</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <!-- Enrollment Card -->
                            <div class="bg-white rounded-4 p-4 shadow-sm mb-4 sticky-top" style="top: 100px;">
                                <div class="text-center mb-4">
                                    <h3 class="fw-bold text-primary mb-2">${price}</h3>
                                    <p class="text-muted">Full lifetime access</p>
                                </div>

                                <button class="btn-primary-custom w-100 mb-3" onclick="enrollInCourse(${course.id})">
                                    <i class="fas fa-user-plus me-2"></i>Enroll Now
                                </button>

                                <div class="text-center mb-4">
                                    <small class="text-muted">30-day money-back guarantee</small>
                                </div>

                                <div class="border-top pt-4">
                                    <h6 class="fw-bold mb-3">This course includes:</h6>
                                    <ul class="list-unstyled">
                                        <li class="mb-2">
                                            <i class="fas fa-clock text-primary me-2"></i>
                                            ${course.duration} hours of content
                                        </li>
                                        <li class="mb-2">
                                            <i class="fas fa-play-circle text-primary me-2"></i>
                                            Video lessons
                                        </li>
                                        <li class="mb-2">
                                            <i class="fas fa-mobile-alt text-primary me-2"></i>
                                            Access on mobile and desktop
                                        </li>
                                        <li class="mb-2">
                                            <i class="fas fa-infinity text-primary me-2"></i>
                                            Lifetime access
                                        </li>
                                        <li class="mb-0">
                                            <i class="fas fa-certificate text-primary me-2"></i>
                                            Certificate of completion
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Instructor Info -->
                            <div class="bg-white rounded-4 p-4 shadow-sm">
                                <h5 class="fw-bold mb-3">Your Instructor</h5>
                                <div class="d-flex align-items-center mb-3">
                                    <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=60&h=60&q=80"
                                         alt="Instructor" class="rounded-circle me-3" style="width: 60px; height: 60px;">
                                    <div>
                                        <h6 class="mb-0">${course.instructor?.firstName || 'Expert'} ${course.instructor?.lastName || 'Instructor'}</h6>
                                        <small class="text-muted">Senior Developer</small>
                                    </div>
                                </div>
                                <p class="text-muted small">
                                    Experienced professional with years of industry expertise, passionate about teaching and helping students succeed.
                                </p>
                            </div>
                        </div>
                    </div>
                `;

            // Load course lessons
            loadCourseLessons(course.id);
        }

        async function loadCourseLessons(courseId) {
            const lessons = await apiCall(`/lessons/course/${courseId}`);
            const container = document.getElementById('courseLessons');

            if (lessons && lessons.length > 0) {
                container.innerHTML = lessons.map((lesson, index) => `
                        <div class="lesson-item">
                            <div class="d-flex align-items-center">
                                <div class="lesson-checkbox me-3">
                                    <i class="fas fa-play-circle text-primary"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">${lesson.title}</h6>
                                    <small class="text-muted">${lesson.duration} minutes</small>
                                </div>
                                <small class="text-muted">Lesson ${index + 1}</small>
                            </div>
                        </div>
                    `).join('');
            } else {
                container.innerHTML = `
                        <div class="text-center py-4">
                            <i class="fas fa-info-circle text-muted fs-2 mb-3"></i>
                            <p class="text-muted">Curriculum content will be available once you enroll in this course.</p>
                        </div>
                    `;
            }
        }

        async function enrollInCourse(courseId) {
            if (!currentUser) {
                showToast('Please login to enroll in courses', 'warning');
                showPage('login');
                return;
            }

            const result = await apiCall(`/courses/${courseId}/enroll`, 'POST');
            if (result) {
                showToast('Successfully enrolled in the course!', 'success');
                // Redirect to learning interface or my courses
                showPage('dashboard');
            }
        }

        function continueLearning(courseId) {
            // Load learning interface for specific course
            loadLearningInterface(courseId);
            showPage('learning');
        }

        async function loadLearningInterface(courseId) {
            const lessons = await apiCall(`/lessons/course/${courseId}`);
            if (lessons && lessons.length > 0) {
                displayLessons(lessons);
                loadLesson(lessons[0]); // Load first lesson
            }
        }

        function displayLessons(lessons) {
            const container = document.getElementById('lessonsList');
            container.innerHTML = lessons.map((lesson, index) => `
                    <div class="lesson-item ${index === 0 ? 'active' : ''}" onclick="loadLesson(${JSON.stringify(lesson).replace(/"/g, '&quot;')})">
                        <div class="lesson-checkbox">
                            <input type="checkbox" class="form-check-input">
                        </div>
                        <div class="flex-grow-1">
                            <h6 class="mb-1">${lesson.title}</h6>
                            <small class="text-muted">${lesson.duration} minutes</small>
                        </div>
                    </div>
                `).join('');
        }

        function loadLesson(lesson) {
            document.getElementById('currentLessonTitle').textContent = lesson.title;
            document.getElementById('currentLessonDescription').textContent = lesson.description || 'Lesson content';

            // Update lesson sidebar
            document.querySelectorAll('.lesson-item').forEach(item => item.classList.remove('active'));
            event.target.closest('.lesson-item')?.classList.add('active');
        }

        function updateDashboardStats(enrollments) {
            const enrolledCount = enrollments.length;
            const completedCount = enrollments.filter(e => e.status === 2).length;
            const certificatesCount = completedCount; // Assuming 1 certificate per completed course
            const learningStreak = Math.floor(Math.random() * 30) + 1; // Mock data

            document.getElementById('enrolledCoursesCount').textContent = enrolledCount;
            document.getElementById('completedCoursesCount').textContent = completedCount;
            document.getElementById('certificatesCount').textContent = certificatesCount;
            document.getElementById('learningStreak').textContent = learningStreak;
        }

        function animateCounters() {
            const counters = document.querySelectorAll('[data-count]');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = entry.target;
                        const target = parseInt(counter.getAttribute('data-count'));
                        const duration = 2000;
                        const increment = target / (duration / 16);
                        let current = 0;

                        const updateCounter = () => {
                            current += increment;
                            if (current < target) {
                                counter.textContent = Math.floor(current).toLocaleString();
                                requestAnimationFrame(updateCounter);
                            } else {
                                counter.textContent = target.toLocaleString() + (target === 98 ? '%' : '+');
                            }
                        };

                        updateCounter();
                        observer.unobserve(counter);
                    }
                });
            });

            counters.forEach(counter => observer.observe(counter));
        }

        function togglePassword(button) {
            const input = button.previousElementSibling;
            const icon = button.querySelector('i');

            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('show');
        }

        function showLoading(button) {
            const originalText = button.innerHTML;
            button.innerHTML = '<span class="loading-spinner me-2"></span>Processing...';
            button.disabled = true;
            button.dataset.originalText = originalText;
        }

        function hideLoading(button) {
            button.innerHTML = button.dataset.originalText;
            button.disabled = false;
        }

        function showToast(message, type = 'success') {
            const toastContainer = document.getElementById('toastContainer');
            const toastId = 'toast-' + Date.now();

            const icons = {
                success: 'fa-check-circle',
                error: 'fa-exclamation-circle',
                warning: 'fa-exclamation-triangle',
                info: 'fa-info-circle'
            };

            const colors = {
                success: 'toast-success',
                error: 'toast-error',
                warning: 'toast-warning',
                info: 'toast-info'
            };

            const toastHTML = `
                    <div id="${toastId}" class="toast toast-custom ${colors[type]} show" role="alert">
                        <div class="toast-body d-flex align-items-center">
                            <i class="fas ${icons[type]} me-3 fs-5"></i>
                            <span>${message}</span>
                            <button type="button" class="btn-close ms-auto" onclick="closeToast('${toastId}')"></button>
                        </div>
                    </div>
                `;

            toastContainer.insertAdjacentHTML('beforeend', toastHTML);

            // Auto-remove after 5 seconds
            setTimeout(() => {
                closeToast(toastId);
            }, 5000);
        }

        function closeToast(toastId) {
            const toast = document.getElementById(toastId);
            if (toast) {
                toast.classList.remove('show');
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }
        }

        // Initialize smooth scrolling for anchor links
        document.addEventListener('click', function (e) {
            if (e.target.matches('a[href^="#"]:not([href="#"])')) {
                e.preventDefault();
                const targetId = e.target.getAttribute('href');
                const targetElement = document.querySelector(targetId);

                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        });

        // Add loading states to all forms
        document.addEventListener('submit', function (e) {
            const submitBtn = e.target.querySelector('button[type="submit"]');
            if (submitBtn && !submitBtn.disabled) {
                showLoading(submitBtn);
            }
        });

        // Handle mobile menu
        window.addEventListener('resize', function () {
            if (window.innerWidth > 768) {
                document.getElementById('sidebar')?.classList.remove('show');
            }
        });
    </script>
</body>
</html>